# Markdown Image Kit

<div align="center">

[![JetBrains Plugins](https://img.shields.io/jetbrains/plugin/v/12192-markdown-image-kit?label=version)](https://plugins.jetbrains.com/plugin/12192-markdown-image-kit)
[![JetBrains Plugins](https://img.shields.io/jetbrains/plugin/d/12192-markdown-image-kit)](https://plugins.jetbrains.com/plugin/12192-markdown-image-kit)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**Markdown Image Kit** æ˜¯ä¸€æ¬¾ä¸“ä¸º JetBrains IDE è®¾è®¡çš„ Markdown å›¾ç‰‡ç®¡ç†æ’ä»¶ï¼Œè®©ä½ åœ¨ IDE ä¸­ä¼˜é›…åœ°å¤„ç† Markdown æ–‡æ¡£ä¸­çš„å›¾ç‰‡ã€‚

[English](README_EN.md) | [ä¸­æ–‡æ–‡æ¡£](README.md)

</div>

![](https://gitee.com/dong4j/idea-plugin-dev/raw/master/MIK-6RCoSs.png)

---

## ğŸ“– ç›®å½•

- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [æ”¯æŒçš„ IDE](#-æ”¯æŒçš„-ide)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [å®Œæ•´åŠŸèƒ½](#-å®Œæ•´åŠŸèƒ½)
- [è¯¦ç»†é…ç½®](#-è¯¦ç»†é…ç½®)
    - [å›¾åºŠé…ç½®](#1-å›¾åºŠé…ç½®)
    - [å…¨å±€è®¾ç½®](#2-å…¨å±€è®¾ç½®)
    - [å‰ªè´´æ¿ç›‘æ§](#3-å‰ªè´´æ¿ç›‘æ§)
- [å›¾åºŠé›†æˆç­–ç•¥](#-å›¾åºŠé›†æˆç­–ç•¥)
- [ä½¿ç”¨åœºæ™¯](#-ä½¿ç”¨åœºæ™¯)
- [å®ç°äº®ç‚¹](#-å®ç°äº®ç‚¹)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [å¼€æºåè®®](#-å¼€æºåè®®)

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

- **ğŸš€ ä¸€é”®ä¸Šä¼ ** - ç²˜è´´å›¾ç‰‡å³è‡ªåŠ¨ä¸Šä¼ ï¼Œå¤åˆ¶å³æ˜¯ Markdown æ ‡ç­¾
- **ğŸ”„ å›¾åºŠè¿ç§»** - è½»æ¾å°†å›¾ç‰‡ä»ä¸€ä¸ªå›¾åºŠè¿ç§»åˆ°å¦ä¸€ä¸ª
- **ğŸ”— ç¬¬ä¸‰æ–¹é›†æˆ** - å¯¹æ¥ PicList/PicGO ç­‰æˆç†Ÿå·¥å…·ï¼Œèšç„¦æ ¸å¿ƒåŠŸèƒ½
- **ğŸ¨ çµæ´»é…ç½®** - æ”¯æŒå›¾ç‰‡å‹ç¼©ã€é‡å‘½åã€æ ‡ç­¾è‡ªå®šä¹‰ç­‰
- **ğŸ“¦ æ‰¹é‡å¤„ç†** - ä¸€é”®å¤„ç†æ–‡æ¡£ä¸­æ‰€æœ‰å›¾ç‰‡
- **ğŸ’¡ æ™ºèƒ½è¯†åˆ«** - è‡ªåŠ¨è¯†åˆ«æœ¬åœ°/ç½‘ç»œå›¾ç‰‡ï¼Œç²¾å‡†å¤„ç†

### ğŸŒŸ 2.0 ç‰ˆæœ¬æ–°ç‰¹æ€§

#### ğŸ”„ å›¾åºŠé›†æˆç­–ç•¥è°ƒæ•´

**ä» OSS ç›´è¿åˆ°ç¬¬ä¸‰æ–¹å·¥å…·å¯¹æ¥çš„æ¼”è¿›**

åœ¨æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œæœ¬æ’ä»¶ç›´æ¥é›†æˆäº†å¤šä¸ªå¯¹è±¡å­˜å‚¨æœåŠ¡å•†ï¼ˆé˜¿é‡Œäº‘ OSSã€ä¸ƒç‰›äº‘ã€è…¾è®¯äº‘ COS ç­‰ï¼‰çš„ SDKã€‚è¿™ç§åšæ³•è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ï¼š

- **æ’ä»¶ä½“ç§¯è†¨èƒ€** - æ¯é›†æˆä¸€ä¸ªå›¾åºŠå°±è¦å¼•å…¥ä¸€ä¸ª SDK
- **ç»´æŠ¤æˆæœ¬é«˜** - å„å‚å•† API å˜åŒ–æ—¶éœ€è¦åŒæ­¥æ›´æ–°
- **è¦†ç›–é¢æœ‰é™** - æ— æ³•æ”¯æŒæ‰€æœ‰ç”¨æˆ·çš„å®šåˆ¶åŒ–éœ€æ±‚

**2.0 ç‰ˆæœ¬çš„æ–°æ€è·¯**

æˆ‘ä»¬å°†å›¾åºŠé›†æˆçš„èŒè´£è½¬ç§»ç»™ä¸“ä¸šçš„ç¬¬ä¸‰æ–¹å·¥å…·ï¼ˆå¦‚ PicList/PicGOï¼‰ï¼Œæ’ä»¶èšç„¦äºæ ¸å¿ƒèƒ½åŠ›ï¼š

```
æ—§æ–¹æ¡ˆ: [MIK æ’ä»¶] â†’ [é›†æˆ SDK] â†’ [é˜¿é‡Œäº‘/ä¸ƒç‰›/è…¾è®¯...]
æ–°æ–¹æ¡ˆ: [MIK æ’ä»¶] â†’ [PicList/PicGO] â†’ [ä»»æ„å›¾åºŠ]
```

**ä¼˜åŠ¿æ˜æ˜¾**

- âœ… **æ’ä»¶æ›´è½»é‡** - ä¸å†éœ€è¦é›†æˆå„ç§ SDK
- âœ… **æ”¯æŒæ›´å¹¿æ³›** - PicList æ”¯æŒ 20+ ç§å›¾åºŠï¼Œé—´æ¥æ”¯æŒæ‰€æœ‰
- âœ… **ç”¨æˆ·å¯æ§** - å›¾åºŠé…ç½®åœ¨ PicList ä¸­ç®¡ç†ï¼Œæ›´çµæ´»
- âœ… **èŒè´£åˆ†ç¦»** - æ’ä»¶ä¸“æ³¨äº Markdown å›¾ç‰‡æ ‡ç­¾å¤„ç†

**æ— ç¼å…¼å®¹**

ä¿ç•™äº†å¯¹å¸¸ç”¨å›¾åºŠçš„ç›´æ¥æ”¯æŒï¼ˆé˜¿é‡Œäº‘ã€ä¸ƒç‰›ã€è…¾è®¯ç­‰ï¼‰ï¼ŒåŒæ—¶ï¼š

- æ¨èä½¿ç”¨ **PicList/PicGO** è·å¾—æœ€ä½³ä½“éªŒ
- å¯¹äºç‰¹æ®Šéœ€æ±‚ï¼Œå¯å‚è€ƒ [mik-help](https://github.com/dong4j/mik-help) é¡¹ç›®è‡ªå»ºä¸­è½¬æœåŠ¡

---

## ğŸ® æ”¯æŒçš„ IDE

æ”¯æŒæ‰€æœ‰åŸºäº IntelliJ å¹³å°çš„ IDEï¼ˆ2022.3 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ï¼š

| IDE           | æ”¯æŒç‰ˆæœ¬                     |
|---------------|--------------------------|
| IntelliJ IDEA | Community & Ultimate     |
| PyCharm       | Professional & Community |
| WebStorm      | å…¨ç³»åˆ—                      |
| PhpStorm      | å…¨ç³»åˆ—                      |
| GoLand        | å…¨ç³»åˆ—                      |
| Rider         | å…¨ç³»åˆ—                      |
| CLion         | å…¨ç³»åˆ—                      |
| RubyMine      | å…¨ç³»åˆ—                      |
| DataGrip      | å…¨ç³»åˆ—                      |
| RustRover     | å…¨ç³»åˆ—                      |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä»æ’ä»¶å¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰

1. æ‰“å¼€ IDEï¼š`Settings/Preferences` â†’ `Plugins`
2. æœç´¢ `Markdown Image Kit`
3. ç‚¹å‡» `Install` å®‰è£…
4. é‡å¯ IDE

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

1. ä» [Releases](https://github.com/dong4j/markdown-image-kit/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
2. `Settings/Preferences` â†’ `Plugins` â†’ `âš™ï¸` â†’ `Install Plugin from Disk...`
3. é€‰æ‹©ä¸‹è½½çš„ zip æ–‡ä»¶
4. é‡å¯ IDE

### åŸºç¡€é…ç½®

#### æ¨èé…ç½®ï¼ˆä½¿ç”¨ PicListï¼‰

1. **å®‰è£… PicList**
    - è®¿é—® [PicList å®˜ç½‘](https://piclist.cn/) ä¸‹è½½å®‰è£…
    - æˆ–ä½¿ç”¨ PicGOï¼ˆåŠŸèƒ½ç±»ä¼¼ï¼‰

2. **é…ç½® PicList**
    - æ‰“å¼€ PicListï¼Œé…ç½®ä½ å–œæ¬¢çš„å›¾åºŠï¼ˆæ”¯æŒ 20+ ç§ï¼‰
    - å¯ç”¨ PicList Serverï¼ˆé»˜è®¤ç«¯å£ 36677ï¼‰
    - å¤åˆ¶ API åœ°å€ï¼š`http://127.0.0.1:36677/upload`

3. **é…ç½®æ’ä»¶**
    - IDE ä¸­æ‰“å¼€ï¼š`Settings/Preferences` â†’ `Markdown Image Kit`
    - é€‰æ‹© `PicList/PicGO` å›¾åºŠ
    - å¡«å…¥ API åœ°å€
    - ç‚¹å‡» `Test` æµ‹è¯•è¿æ¥
    - å‹¾é€‰ `è®¾ç½®ä¸ºé»˜è®¤å›¾åºŠ`

4. **å¼€å§‹ä½¿ç”¨**
    - æ‰“å¼€ä»»æ„ Markdown æ–‡ä»¶
    - å¤åˆ¶ä¸€å¼ å›¾ç‰‡ï¼ˆæˆªå›¾/å¤åˆ¶å›¾ç‰‡æ–‡ä»¶ï¼‰
    - ç²˜è´´åˆ°ç¼–è¾‘å™¨ â†’ è‡ªåŠ¨ä¸Šä¼  â†’ è‡ªåŠ¨æ’å…¥ Markdown æ ‡ç­¾ ğŸ‰

#### å¿«é€Ÿä½“éªŒï¼ˆä½¿ç”¨ SM.MS å…è´¹å›¾åºŠï¼‰

1. IDE ä¸­æ‰“å¼€ï¼š`Settings/Preferences` â†’ `Markdown Image Kit`
2. **ä¸å‹¾é€‰**ã€Œè®¾ç½®ä¸ºé»˜è®¤å›¾åºŠã€ï¼ˆä½¿ç”¨å†…ç½®çš„ SM.MSï¼‰
3. å‰ªè´´æ¿è®¾ç½®ä¸­å‹¾é€‰ã€Œä¸Šä¼ å›¾ç‰‡å¹¶æ›¿æ¢ã€
4. å¤åˆ¶å›¾ç‰‡ â†’ ç²˜è´´ â†’ è‡ªåŠ¨ä¸Šä¼ åˆ° SM.MS

> âš ï¸ SM.MS å…è´¹ç‰ˆæœ‰é™åˆ¶ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨ PicList, å¯å®šåˆ¶åŒ–é€‰é¡¹æ›´å¤š.

---

## ğŸ¯ å®Œæ•´åŠŸèƒ½

### 1. å›¾ç‰‡ä¸Šä¼ 

| åŠŸèƒ½        | è¯´æ˜           | ä½¿ç”¨æ–¹å¼                                       |
|-----------|--------------|--------------------------------------------|
| **ç²˜è´´ä¸Šä¼ **  | å¤åˆ¶å›¾ç‰‡åç›´æ¥ç²˜è´´    | `Ctrl/Cmd + V`                             |
| **å•ä¸ªä¸Šä¼ **  | å¯¹ç‰¹å®šå›¾ç‰‡æ ‡ç­¾ä¸Šä¼     | å…‰æ ‡ç½®äºæ ‡ç­¾ä¸Š â†’ `Alt + Enter` â†’ é€‰æ‹©ä¸Šä¼ é€‰é¡¹           |
| **æ‰¹é‡ä¸Šä¼ **  | ä¸€é”®ä¸Šä¼ æ–‡æ¡£æ‰€æœ‰æœ¬åœ°å›¾ç‰‡ | å³é”® â†’ `Markdown Image Kit` â†’ `Upload Image` |
| **é€‰æ‹©æ€§ä¸Šä¼ ** | ä¸Šä¼ åˆ°ä¸åŒå›¾åºŠ      | å³é”® â†’ `Markdown Image Kit` â†’ é€‰æ‹©ç›®æ ‡å›¾åºŠ         |

### 2. å›¾åºŠè¿ç§»

ä»ä¸€ä¸ªå›¾åºŠæ‰¹é‡è¿ç§»åˆ°å¦ä¸€ä¸ªï¼š

```markdown
# è¿ç§»å‰
![image](https://old-cdn.com/image.png)

# è¿ç§»å  
![image](https://new-cdn.com/image.png)
```

**ä½¿ç”¨æ­¥éª¤**ï¼š

1. é…ç½®ç›®æ ‡å›¾åºŠ
2. å³é”® â†’ `Markdown Image Kit` â†’ `å›¾åºŠè¿ç§»`
3. è¾“å…¥æºå›¾åºŠåŸŸåï¼ˆå¦‚ `old-cdn.com`ï¼‰
4. ç­‰å¾…è¿ç§»å®Œæˆ

### 3. æ ‡ç­¾æ›¿æ¢

æ‰¹é‡ä¿®æ”¹å›¾ç‰‡æ ‡ç­¾æ ¼å¼ï¼š

| åŸå§‹æ ‡ç­¾       | æ›¿æ¢å                                        | é€‚ç”¨åœºæ™¯           |
|------------|--------------------------------------------|----------------|
| `![](url)` | `<a href="url"><img src="url"/></a>`       | å›¾ç‰‡å¯ç‚¹å‡»ï¼Œæ–°æ ‡ç­¾æ‰“å¼€    |
| `![](url)` | `<img src="url" data-fancybox="gallery"/>` | VuePress ç‚¹å‡»çœ‹å¤§å›¾ |
| è‡ªå®šä¹‰æ¨¡æ¿      | ä»»æ„æ ¼å¼                                       | ä¸ªæ€§åŒ–éœ€æ±‚          |

### 4. å›¾ç‰‡å‹ç¼©

ä¸Šä¼ å‰è‡ªåŠ¨å‹ç¼©ï¼Œå‡å°‘å­˜å‚¨å’Œæµé‡ï¼š

- æ”¯æŒ PNGã€JPGã€JPEGã€BMP ç­‰æ ¼å¼
- å¯è°ƒèŠ‚å‹ç¼©æ¯”ä¾‹ï¼ˆ0-100%ï¼‰
- GIF æš‚ä¸æ”¯æŒï¼ˆä¿ç•™åŸå§‹åŠ¨å›¾ï¼‰

### 5. å›¾ç‰‡é‡å‘½å

| é‡å‘½åæ–¹å¼     | æ ¼å¼              | ç¤ºä¾‹                          |
|-----------|-----------------|-----------------------------|
| **ä¿æŒåŸå**  | åŸæ–‡ä»¶å            | `screenshot.png`            |
| **æ—¥æœŸ+åŸå** | `yyyy-MM-dd-åŸå` | `2025-10-29-screenshot.png` |
| **éšæœºå­—ç¬¦**  | `MIK-éšæœº6ä½`      | `MIK-a3Xk9p.png`            |

---

## âš™ï¸ è¯¦ç»†é…ç½®

æ‰“å¼€è®¾ç½®ï¼š`Settings/Preferences` â†’ `Markdown Image Kit`

### 1. å›¾åºŠé…ç½®

#### PicList/PicGOï¼ˆæ¨èï¼‰ â­

**é€‚ç”¨åœºæ™¯**ï¼šé€šç”¨åœºæ™¯ï¼Œä¸€æ¬¡é…ç½®ï¼Œæ”¯æŒæ‰€æœ‰å›¾åºŠ

**é…ç½®é¡¹**ï¼š

| é…ç½®é¡¹        | è¯´æ˜                  | ç¤ºä¾‹                              |
|------------|---------------------|---------------------------------|
| **API åœ°å€** | PicList Server åœ°å€   | `http://127.0.0.1:36677/upload` |
| **å›¾åºŠç±»å‹**   | PicList é…ç½®çš„å›¾åºŠåç§°ï¼ˆé€‰å¡«ï¼‰ | `aws-s3`, `qiniu` ç­‰             |
| **é…ç½®åç§°**   | å¤šé…ç½®æ—¶æŒ‡å®šä½¿ç”¨å“ªä¸ªï¼ˆé€‰å¡«ï¼‰      | `default`, `backup`             |
| **æ¥å£å¯†é’¥**   | API é‰´æƒå¯†é’¥ï¼ˆé€‰å¡«ï¼‰        | ç•™ç©ºè¡¨ç¤ºæ— éœ€é‰´æƒ                        |

**ä¼˜åŠ¿**ï¼š

- âœ… æ”¯æŒ 20+ ç§å›¾åºŠï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€AWS S3ã€MinIOã€GitHubã€Imgur...ï¼‰
- âœ… å›¾åºŠé…ç½®åœ¨ PicList ä¸­ç®¡ç†ï¼Œæ— éœ€åœ¨æ’ä»¶ä¸­é‡å¤é…ç½®
- âœ… æ”¯æŒå›¾ç‰‡å‹ç¼©ã€é‡å‘½åã€æ°´å°ç­‰é¢„å¤„ç†
- âœ… è·¨å¹³å°æ”¯æŒï¼ˆWindows/macOS/Linuxï¼‰

**è¯¦ç»†æ–‡æ¡£**ï¼š[PicList å®Œæ•´å®ç°](docs/PICLIST_COMPLETE_IMPLEMENTATION.md)

#### é˜¿é‡Œäº‘ OSS

**é€‚ç”¨åœºæ™¯**ï¼šä¼ä¸šçº§åº”ç”¨ï¼Œå¤§æµé‡åœºæ™¯

**é…ç½®é¡¹**ï¼š

- **Bucket Name**: å­˜å‚¨æ¡¶åç§°
- **Access Key**: AccessKey ID
- **Access Secret Key**: AccessKey Secret
- **Endpoint**: åœ°åŸŸèŠ‚ç‚¹ï¼ˆå¦‚ `oss-cn-beijing.aliyuncs.com`ï¼‰
- **æ–‡ä»¶ç›®å½•**: å­˜å‚¨è·¯å¾„å‰ç¼€ï¼ˆå¦‚ `images/`ï¼‰
- **è‡ªå®šä¹‰åŸŸå**: CDN åŠ é€ŸåŸŸåï¼ˆé€‰å¡«ï¼‰

**ä½¿ç”¨å»ºè®®**ï¼š

- å»ºè®®é…ç½® CDN åŠ é€Ÿè®¿é—®
- è®¾ç½® Bucket è®¿é—®æƒé™ä¸ºã€Œå…¬å…±è¯»ã€
- å®šæœŸæ¸…ç†æ— ç”¨å›¾ç‰‡èŠ‚çœæˆæœ¬

#### ä¸ƒç‰›äº‘

**é€‚ç”¨åœºæ™¯**ï¼šæœ‰å…è´¹é¢åº¦ï¼Œé€‚åˆä¸ªäººåšå®¢

**é…ç½®é¡¹**ï¼š

- **Bucket Name**: å­˜å‚¨ç©ºé—´åç§°
- **Access Key**: AccessKey
- **Secret Key**: SecretKey
- **ä¸Šä¼ åœ°å€**: æ ¹æ®åŒºåŸŸé€‰æ‹©ï¼ˆåä¸œ/ååŒ—/åå—/åŒ—ç¾ï¼‰
- **è‡ªå®šä¹‰åŸŸå**: ç»‘å®šçš„åŸŸåï¼ˆå¿…å¡«ï¼‰

**å…è´¹é¢åº¦**ï¼šæ¯æœˆ 10GB å­˜å‚¨ + 10GB æµé‡

#### è…¾è®¯äº‘ COS

**é€‚ç”¨åœºæ™¯**ï¼šè…¾è®¯äº‘ç”Ÿæ€ï¼Œä¸å…¶ä»–è…¾è®¯äº‘æœåŠ¡é›†æˆ

**é…ç½®é¡¹**ï¼š

- **Bucket Name**: å­˜å‚¨æ¡¶åç§°ï¼ˆæ ¼å¼ï¼š`bucketname-appid`ï¼‰
- **Secret ID**: å¯†é’¥ ID
- **Secret Key**: å¯†é’¥å†…å®¹
- **Region**: åœ°åŸŸï¼ˆå¦‚ `ap-beijing`ï¼‰

#### GitHub

**é€‚ç”¨åœºæ™¯**ï¼šå…è´¹æ–¹æ¡ˆï¼Œé€‚åˆå¼€æºé¡¹ç›®æ–‡æ¡£

**é…ç½®é¡¹**ï¼š

- **Repository**: ä»“åº“åï¼ˆæ ¼å¼ï¼š`username/repo`ï¼‰
- **Branch**: åˆ†æ”¯åï¼ˆå¦‚ `main` æˆ– `gh-pages`ï¼‰
- **Token**: Personal Access Tokenï¼ˆéœ€è¦ `repo` æƒé™ï¼‰
- **æ–‡ä»¶ç›®å½•**: å­˜å‚¨è·¯å¾„ï¼ˆå¦‚ `images/`ï¼‰
- **è‡ªå®šä¹‰åŸŸå**: ä½¿ç”¨ jsDelivr CDN åŠ é€Ÿï¼ˆé€‰å¡«ï¼‰

**CDN åŠ é€Ÿç¤ºä¾‹**ï¼š

```
åŸå§‹åœ°å€: https://raw.githubusercontent.com/user/repo/main/image.png
CDN åœ°å€: https://cdn.jsdelivr.net/gh/user/repo@main/image.png
```

#### Gitee

**é€‚ç”¨åœºæ™¯**ï¼šå›½å†…è®¿é—®é€Ÿåº¦å¿«ï¼Œé€‚åˆå›½å†…ç”¨æˆ·

é…ç½®ç±»ä¼¼ GitHubï¼Œä½¿ç”¨ Gitee ä½œä¸ºå­˜å‚¨

#### è‡ªå®šä¹‰å›¾åºŠ

**é€‚ç”¨åœºæ™¯**ï¼šä½¿ç”¨éä¸»æµå›¾åºŠï¼Œæˆ–è‡ªå»ºå›¾åºŠæœåŠ¡

**é…ç½®é¡¹**ï¼š

- **API åœ°å€**: ä¸Šä¼ æ¥å£ URL
- **è¯·æ±‚å¯†é’¥**: æ–‡ä»¶å‚æ•°åï¼ˆå¦‚ `file`, `image`ï¼‰
- **å“åº”è·¯å¾„**: JSON å“åº”ä¸­ URL çš„è·¯å¾„ï¼ˆå¦‚ `data.url`ï¼‰
- **HTTP æ–¹æ³•**: é€šå¸¸ä¸º `POST`

**è‡ªå»ºå›¾åºŠç¤ºä¾‹**ï¼š

å‚è€ƒ [mik-help](https://github.com/dong4j/mik-help) é¡¹ç›®ï¼Œæä¾›äº†å¤šè¯­è¨€å®ç°ï¼š

```bash
# Java å®ç°
cd mik-help/upload-api/java
mvn spring-boot:run

# Node.js å®ç°  
cd mik-help/upload-api/nodejs
npm install && npm start

# Python å®ç°
cd mik-help/upload-api/python  
pip install -r requirements.txt && python app.py
```

**API è§„èŒƒ**ï¼š

```bash
# è¯·æ±‚
POST /upload
Content-Type: multipart/form-data

# å“åº”
{
  "data": {
    "url": "https://your-domain.com/image.png"
  }
}
```

è¯¦ç»†è¯´æ˜ï¼š

- [è‡ªå®šä¹‰å›¾åºŠ API è§„èŒƒ](docs/CUSTOM_OSS_API_SPECIFICATION.md)
- [è‡ªå®šä¹‰å›¾åºŠå®ç°æŒ‡å—](docs/CUSTOM_OSS_IMPLEMENTATION_GUIDE.md)

---

### 2. å…¨å±€è®¾ç½®

#### é»˜è®¤å›¾åºŠ

**è¯´æ˜**ï¼šå‹¾é€‰åï¼Œç²˜è´´å›¾ç‰‡å°†è‡ªåŠ¨ä¸Šä¼ åˆ°é€‰ä¸­çš„å›¾åºŠ

**é…ç½®**ï¼š

- â˜‘ï¸ **è®¾ç½®ä¸ºé»˜è®¤å›¾åºŠ**
- é€‰æ‹©é»˜è®¤ä¸Šä¼ çš„å›¾åºŠç±»å‹

**ä½¿ç”¨åœºæ™¯**ï¼š

- âœ… æ—¥å¸¸å†™ä½œï¼Œå¸Œæœ›ç²˜è´´å³ä¸Šä¼ 
- âœ… å›¢é˜Ÿåä½œï¼Œç»Ÿä¸€ä½¿ç”¨åŒä¸€å›¾åºŠ

**ä¸å‹¾é€‰æ—¶**ï¼šä½¿ç”¨å†…ç½®çš„ SM.MS å…è´¹å›¾åºŠ

#### æ ‡ç­¾æ›¿æ¢

**è¯´æ˜**ï¼šå°† Markdown åŸå§‹æ ‡ç­¾æ›¿æ¢ä¸ºå…¶ä»–æ ¼å¼

**é€‰é¡¹**ï¼š

| é€‰é¡¹        | ç”Ÿæˆæ ¼å¼                                       | é€‚ç”¨åœºæ™¯            |
|-----------|--------------------------------------------|-----------------|
| **æ­£å¸¸**    | `<a href="url"><img src="url"/></a>`       | å›¾ç‰‡å¯ç‚¹å‡»åœ¨æ–°æ ‡ç­¾æ‰“å¼€     |
| **ç‚¹å‡»çœ‹å¤§å›¾** | `<img src="url" data-fancybox="gallery"/>` | VuePress åšå®¢ç‚¹å‡»æ”¾å¤§ |
| **è‡ªå®šä¹‰**   | è‡ªå®šä¹‰æ¨¡æ¿                                      | ç‰¹æ®Šéœ€æ±‚            |

**è‡ªå®šä¹‰æ¨¡æ¿è¯­æ³•**ï¼š

```
{{0}} - å›¾ç‰‡æ ‡é¢˜ï¼ˆtitleï¼‰
{{1}} - å›¾ç‰‡åœ°å€ï¼ˆURLï¼‰

ç¤ºä¾‹: <img alt="{{0}}" src="{{1}}" style="max-width:100%"/>
```

**VuePress é…ç½®**ï¼ˆç‚¹å‡»çœ‹å¤§å›¾ï¼‰ï¼š

åœ¨ `config.js` çš„ `head` èŠ‚ç‚¹æ·»åŠ ï¼š

```javascript
['script', { src: 'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js' }],
['script', { src: 'https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js' }],
['link', { rel: 'stylesheet', type: 'text/css', href: 'https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css' }]
```

#### å›¾ç‰‡å‹ç¼©

**è¯´æ˜**ï¼šä¸Šä¼ å‰è‡ªåŠ¨å‹ç¼©å›¾ç‰‡ï¼Œå‡å°‘å­˜å‚¨å’Œæµé‡

**é…ç½®**ï¼š

- â˜‘ï¸ **å¼€å¯å‹ç¼©**
- æ»‘åŠ¨è°ƒèŠ‚å‹ç¼©æ¯”ä¾‹ï¼ˆ0-100ï¼Œæ¨è 60-80ï¼‰

**å‹ç¼©æ•ˆæœç¤ºä¾‹**ï¼š

| åŸå§‹å¤§å°   | å‹ç¼©æ¯”ä¾‹ | å‹ç¼©å    | å‹ç¼©ç‡ |
|--------|------|--------|-----|
| 2.5 MB | 60%  | 800 KB | 68% |
| 1.2 MB | 70%  | 600 KB | 50% |
| 500 KB | 80%  | 350 KB | 30% |

**æ³¨æ„äº‹é¡¹**ï¼š

- âœ… æ”¯æŒ PNGã€JPGã€JPEGã€BMP
- âŒ GIF æš‚ä¸æ”¯æŒï¼ˆä¼šä¿ç•™åŸå§‹åŠ¨å›¾ï¼‰
- å‹ç¼©ä¸å¯é€†ï¼Œå»ºè®®ä¿ç•™åŸå›¾å¤‡ä»½

**ä½¿ç”¨åœºæ™¯**ï¼š

- åšå®¢æ–‡ç« é…å›¾ï¼ˆå‡å°‘åŠ è½½æ—¶é—´ï¼‰
- ç§»åŠ¨ç«¯è®¿é—®ä¼˜åŒ–
- æµé‡æˆæœ¬æ§åˆ¶

#### æ–‡ä»¶é‡å‘½å

**è¯´æ˜**ï¼šä¸Šä¼ æ—¶é‡å‘½åæ–‡ä»¶ï¼Œé¿å…å†²çªæˆ–è§„èŒƒå‘½å

**é€‰é¡¹**ï¼š

| æ–¹å¼        | æ ¼å¼              | ç¤ºä¾‹                          | é€‚ç”¨åœºæ™¯    |
|-----------|-----------------|-----------------------------|---------|
| **ä¿æŒåŸå**  | åŸæ–‡ä»¶å            | `screenshot.png`            | æ–‡ä»¶åæœ‰æ„ä¹‰æ—¶ |
| **æ—¥æœŸ+åŸå** | `yyyy-MM-dd-åŸå` | `2025-10-29-screenshot.png` | æŒ‰æ—¥æœŸå½’æ¡£   |
| **éšæœºå­—ç¬¦**  | `MIK-éšæœº6ä½`      | `MIK-a3Xk9p.png`            | é¿å…é‡åå†²çª  |

**ä½¿ç”¨å»ºè®®**ï¼š

- æ¨èä½¿ç”¨ã€Œéšæœºå­—ç¬¦ã€é¿å…æ–‡ä»¶åå†²çª
- ã€Œæ—¥æœŸ+åŸåã€é€‚åˆæŒ‰æ—¶é—´ç®¡ç†å›¾ç‰‡
- ã€Œä¿æŒåŸåã€é€‚åˆæ–‡ä»¶åæœ¬èº«æœ‰æ„ä¹‰çš„åœºæ™¯

#### æ°´å°

**è¯´æ˜**ï¼šä¸Šä¼ å‰ä¸ºå›¾ç‰‡æ·»åŠ æ–‡å­—æ°´å°

**é…ç½®**ï¼š

- â˜‘ï¸ **å¼€å¯æ°´å°**
- è¾“å…¥æ°´å°æ–‡å­—ï¼ˆå¦‚ `@YourName`ï¼‰

**æ³¨æ„**ï¼šå½“å‰ç‰ˆæœ¬æ°´å°åŠŸèƒ½åŸºç¡€ï¼Œå¤æ‚éœ€æ±‚å»ºè®®ä½¿ç”¨ PicList çš„æ°´å°æ’ä»¶

---

### 3. å‰ªè´´æ¿ç›‘æ§

**è¯´æ˜**ï¼šç›‘æ§å‰ªè´´æ¿ï¼Œè‡ªåŠ¨å¤„ç†å¤åˆ¶çš„å›¾ç‰‡

#### å¤åˆ¶å›¾ç‰‡åˆ°ç›®å½•

**è¯´æ˜**ï¼šå¤åˆ¶å›¾ç‰‡æ—¶è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°ç›®å½•

**é…ç½®**ï¼š

- â˜‘ï¸ **å¤åˆ¶å›¾ç‰‡åˆ°ç›®å½•**
- è®¾ç½®ä¿å­˜è·¯å¾„ï¼ˆç›¸å¯¹äºå½“å‰æ–‡æ¡£ï¼Œå¦‚ `./imgs`ï¼‰

**å·¥ä½œæµç¨‹**ï¼š

```
å¤åˆ¶å›¾ç‰‡ â†’ ç²˜è´´ â†’ ä¿å­˜åˆ° ./imgs â†’ æ’å…¥ç›¸å¯¹è·¯å¾„æ ‡ç­¾
ç»“æœ: ![](./imgs/image.png)
```

**ä½¿ç”¨åœºæ™¯**ï¼š

- âœ… å›¾ç‰‡éœ€è¦æœ¬åœ°å¤‡ä»½
- âœ… ç¦»çº¿æ–‡æ¡£ç¼–è¾‘
- âœ… Git ä»“åº“ç®¡ç†æ–‡æ¡£

#### ä¸Šä¼ å›¾ç‰‡å¹¶æ›¿æ¢

**è¯´æ˜**ï¼šå¤åˆ¶å›¾ç‰‡æ—¶è‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ

**é…ç½®**ï¼š

- â˜‘ï¸ **ä¸Šä¼ å›¾ç‰‡å¹¶æ›¿æ¢**

**å·¥ä½œæµç¨‹**ï¼š

```
å¤åˆ¶å›¾ç‰‡ â†’ ç²˜è´´ â†’ è‡ªåŠ¨ä¸Šä¼  â†’ æ’å…¥ç½‘ç»œ URL
ç»“æœ: ![](https://cdn.example.com/image.png)
```

**ä½¿ç”¨åœºæ™¯**ï¼š

- âœ… åšå®¢å†™ä½œï¼ˆå›¾ç‰‡æ‰˜ç®¡åˆ° CDNï¼‰
- âœ… åœ¨çº¿æ–‡æ¡£ï¼ˆå›¾ç‰‡å…¬ç½‘å¯è®¿é—®ï¼‰
- âœ… å¤šå¹³å°å‘å¸ƒï¼ˆå¤åˆ¶ Markdown å³å¯ç”¨ï¼‰

#### ç»„åˆä½¿ç”¨

ä¸¤ä¸ªé€‰é¡¹å¯ä»¥**åŒæ—¶å‹¾é€‰**ï¼š

```
å¤åˆ¶å›¾ç‰‡ â†’ ç²˜è´´ â†’ ä¿å­˜æœ¬åœ° + ä¸Šä¼ å›¾åºŠ â†’ æ’å…¥ç½‘ç»œ URL
```

**ä¼˜åŠ¿**ï¼š

- æœ¬åœ°æœ‰å¤‡ä»½
- å¯¹å¤–åˆ†äº«ç”¨å›¾åºŠ URL
- å›¾åºŠè¿ç§»æœ‰åŸå§‹æ–‡ä»¶

---

## ğŸ”„ å›¾åºŠé›†æˆç­–ç•¥

### ä» SDK é›†æˆåˆ°å·¥å…·å¯¹æ¥çš„æ¼”è¿›

#### 1.x ç‰ˆæœ¬ï¼šç›´æ¥é›†æˆ OSS SDK

**æ¶æ„**ï¼š

```
[Markdown Image Kit æ’ä»¶]
    â”œâ”€â”€ é˜¿é‡Œäº‘ OSS SDK
    â”œâ”€â”€ ä¸ƒç‰›äº‘ SDK  
    â”œâ”€â”€ è…¾è®¯äº‘ COS SDK
    â”œâ”€â”€ ç™¾åº¦äº‘ BOS SDK
    â”œâ”€â”€ GitHub API
    â””â”€â”€ Gitee API
```

**é—®é¢˜**ï¼š

- âŒ æ’ä»¶ä½“ç§¯å¤§ï¼ˆæ¯ä¸ª SDK éƒ½æœ‰å‡  MBï¼‰
- âŒ ç»´æŠ¤æˆæœ¬é«˜ï¼ˆå‚å•† API å˜åŒ–éœ€è¦åŒæ­¥æ›´æ–°ï¼‰
- âŒ æ— æ³•è¦†ç›–æ‰€æœ‰å›¾åºŠï¼ˆç”¨æˆ·å¯èƒ½ç”¨ MinIOã€WebDAV ç­‰ï¼‰

#### 2.x ç‰ˆæœ¬ï¼šå¯¹æ¥ç¬¬ä¸‰æ–¹å·¥å…·

**æ–°æ¶æ„**ï¼š

```
[Markdown Image Kit æ’ä»¶]
    â””â”€â”€ PicList/PicGO API
            â””â”€â”€ [PicList å·¥å…·]
                    â”œâ”€â”€ é˜¿é‡Œäº‘ OSS
                    â”œâ”€â”€ è…¾è®¯äº‘ COS
                    â”œâ”€â”€ ä¸ƒç‰›äº‘
                    â”œâ”€â”€ AWS S3
                    â”œâ”€â”€ MinIO
                    â”œâ”€â”€ GitHub
                    â”œâ”€â”€ Imgur
                    â”œâ”€â”€ SM.MS
                    â””â”€â”€ ... 20+ ç§å›¾åºŠ
```

**ä¼˜åŠ¿**ï¼š

- âœ… æ’ä»¶ä½“ç§¯å‡å° 80%
- âœ… æ”¯æŒ 20+ ç§å›¾åºŠï¼ˆé—´æ¥æ”¯æŒï¼‰
- âœ… å›¾åºŠé…ç½®åœ¨ PicList ç®¡ç†ï¼Œæ›´çµæ´»
- âœ… æ’ä»¶èšç„¦äº Markdown å›¾ç‰‡æ ‡ç­¾å¤„ç†
- âœ… PicList ç”Ÿæ€å¼ºå¤§ï¼ˆæ’ä»¶ã€ä¸»é¢˜ã€é¢„è®¾ï¼‰

### ä¸‰ç§ä½¿ç”¨æ¨¡å¼

#### æ¨¡å¼ 1ï¼šç›´æ¥ä½¿ç”¨å†…ç½®å›¾åºŠï¼ˆæœ€ç®€å•ï¼‰

```
[æ’ä»¶] â†’ [å†…ç½® SM.MS] â†’ [å…è´¹å›¾åºŠ]
```

**é€‚åˆ**ï¼šå¿«é€Ÿä½“éªŒã€ä¸´æ—¶ä½¿ç”¨

#### æ¨¡å¼ 2ï¼šé€šè¿‡ PicList å¯¹æ¥å›¾åºŠï¼ˆæ¨èï¼‰

```
[æ’ä»¶] â†’ [PicList API] â†’ [ä½ é…ç½®çš„ä»»æ„å›¾åºŠ]
```

**é€‚åˆ**ï¼šç”Ÿäº§ç¯å¢ƒã€é•¿æœŸä½¿ç”¨

**ä¼˜åŠ¿**ï¼š

- PicList æ”¯æŒ 20+ ç§å›¾åºŠ
- é…ç½®ä¸€æ¬¡ï¼Œå¤šå¤„ä½¿ç”¨ï¼ˆæµè§ˆå™¨æ’ä»¶ã€å‘½ä»¤è¡Œå·¥å…·ç­‰ï¼‰
- å›¾åºŠè¿ç§»åªéœ€åœ¨ PicList åˆ‡æ¢é…ç½®

#### æ¨¡å¼ 3ï¼šè‡ªå»ºå›¾åºŠæœåŠ¡ï¼ˆé«˜çº§ï¼‰

```
[æ’ä»¶] â†’ [è‡ªå®šä¹‰ API] â†’ [ä½ çš„å¤„ç†é€»è¾‘] â†’ [ä»»æ„å­˜å‚¨]
```

**é€‚åˆ**ï¼šç‰¹æ®Šéœ€æ±‚ã€ä¼ä¸šå†…éƒ¨

**ç¤ºä¾‹åœºæ™¯**ï¼š

1. **å›¾ç‰‡é¢„å¤„ç†**ï¼šä¸Šä¼ å‰å‹ç¼©ã€æ·»åŠ æ°´å°ã€æ ¼å¼è½¬æ¢
2. **ä¸­è½¬æœåŠ¡**ï¼šç»Ÿä¸€å…¥å£ï¼Œåç«¯å¯åˆ‡æ¢ä¸åŒå›¾åºŠ
3. **æƒé™æ§åˆ¶**ï¼šä¼ä¸šå†…éƒ¨å›¾åºŠï¼Œéœ€è¦é‰´æƒ
4. **ç‰¹æ®Šå­˜å‚¨**ï¼šMinIOã€WebDAVã€NAS ç­‰

**å®ç°å‚è€ƒ**ï¼š[mik-help](https://github.com/dong4j/mik-help)

æä¾›äº†å¤šè¯­è¨€å®ç°ï¼š

- â˜• Java (Spring Boot)
- ğŸŸ¢ Node.js (Express)
- ğŸ Python (Flask)
- ğŸ¹ Go (Gin)
- ğŸ’ Kotlin (Ktor)

æ¯ä¸ªå®ç°éƒ½åŒ…å«ï¼š

- æ–‡ä»¶ä¸Šä¼  API
- é™æ€èµ„æºé¢„è§ˆ
- è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
- Docker é•œåƒ

---

## ğŸ“š ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šæŠ€æœ¯åšå®¢å†™ä½œ

**éœ€æ±‚**ï¼š

- æˆªå›¾åå¿«é€Ÿæ’å…¥æ–‡ç« 
- å›¾ç‰‡æ‰˜ç®¡åˆ° CDN åŠ é€Ÿè®¿é—®
- å¤šå¹³å°å‘å¸ƒï¼ˆæ˜é‡‘ã€CSDNã€çŸ¥ä¹ç­‰ï¼‰

**é…ç½®æ–¹æ¡ˆ**ï¼š

1. ä½¿ç”¨ PicList + ä¸ƒç‰›äº‘ï¼ˆæœ‰å…è´¹é¢åº¦ï¼‰
2. å‹¾é€‰ã€Œä¸Šä¼ å›¾ç‰‡å¹¶æ›¿æ¢ã€
3. å¼€å¯å›¾ç‰‡å‹ç¼©ï¼ˆ70%ï¼‰

**å·¥ä½œæµ**ï¼š

```
æˆªå›¾ â†’ ç²˜è´´ â†’ è‡ªåŠ¨ä¸Šä¼  â†’ æ’å…¥ CDN é“¾æ¥ â†’ å®Œæˆ ğŸ‰
```

### åœºæ™¯ 2ï¼šå›¢é˜Ÿæ–‡æ¡£åä½œ

**éœ€æ±‚**ï¼š

- æ–‡æ¡£å­˜å‚¨åœ¨ Git ä»“åº“
- å›¾ç‰‡éœ€è¦æœ¬åœ°å¤‡ä»½
- å¯¹å¤–åˆ†äº«æ—¶å›¾ç‰‡å…¬ç½‘å¯è®¿é—®

**é…ç½®æ–¹æ¡ˆ**ï¼š

1. åŒæ—¶å‹¾é€‰ã€Œå¤åˆ¶å›¾ç‰‡åˆ°ç›®å½•ã€å’Œã€Œä¸Šä¼ å›¾ç‰‡å¹¶æ›¿æ¢ã€
2. è®¾ç½®ä¿å­˜è·¯å¾„ä¸º `./assets/images`
3. ä½¿ç”¨é˜¿é‡Œäº‘ OSSï¼ˆä¼ä¸šçº§ç¨³å®šï¼‰

**ä¼˜åŠ¿**ï¼š

- æœ¬åœ°æœ‰å¤‡ä»½ï¼ˆæäº¤åˆ° Gitï¼‰
- åˆ†äº«æ—¶ç”¨å›¾åºŠ URLï¼ˆå…¬ç½‘è®¿é—®ï¼‰
- å›¾åºŠè¿ç§»æœ‰åŸå§‹æ–‡ä»¶

### åœºæ™¯ 3ï¼šå¼€æºé¡¹ç›®æ–‡æ¡£

**éœ€æ±‚**ï¼š

- å…è´¹æ–¹æ¡ˆ
- å…¨çƒè®¿é—®é€Ÿåº¦
- å›¾ç‰‡æ°¸ä¹…æœ‰æ•ˆ

**é…ç½®æ–¹æ¡ˆ**ï¼š

1. ä½¿ç”¨ PicList + GitHub
2. å¼€å¯ jsDelivr CDN åŠ é€Ÿ
3. å›¾ç‰‡å­˜å‚¨åœ¨ `gh-pages` åˆ†æ”¯

**å·¥ä½œæµ**ï¼š

```
ä¸Šä¼ å›¾ç‰‡ â†’ GitHub ä»“åº“ â†’ jsDelivr CDN â†’ å…¨çƒåŠ é€Ÿ
URL: https://cdn.jsdelivr.net/gh/user/repo@main/image.png
```

### åœºæ™¯ 4ï¼šå›¾åºŠè¿ç§»

**éœ€æ±‚**ï¼š

- åŸå›¾åºŠæµé‡ç”¨å®Œäº†
- éœ€è¦è¿ç§»åˆ°æ–°å›¾åºŠ
- æ‰¹é‡å¤„ç†æ–‡æ¡£ä¸­çš„å›¾ç‰‡

**æ“ä½œæ­¥éª¤**ï¼š

1. é…ç½®æ–°å›¾åºŠå¹¶è®¾ä¸ºé»˜è®¤
2. æ‰“å¼€æ–‡æ¡£ï¼Œå³é”® â†’ `å›¾åºŠè¿ç§»`
3. è¾“å…¥æ—§å›¾åºŠåŸŸåï¼ˆå¦‚ `old-cdn.com`ï¼‰
4. ç­‰å¾…è¿ç§»å®Œæˆ

**åŸç†**ï¼š

- è¯†åˆ«æ‰€æœ‰åŒ…å«æ—§åŸŸåçš„å›¾ç‰‡
- ä¸‹è½½åŸå›¾ â†’ ä¸Šä¼ åˆ°æ–°å›¾åºŠ â†’ æ›¿æ¢ URL

### åœºæ™¯ 5ï¼šç¦»çº¿æ–‡æ¡£ç¼–è¾‘

**éœ€æ±‚**ï¼š

- åœ¨é£æœº/é«˜é“ä¸Šå†™æ–‡æ¡£
- æ²¡æœ‰ç½‘ç»œè¿æ¥
- å›åˆ°åŠå…¬å®¤åæ‰¹é‡ä¸Šä¼ 

**é…ç½®æ–¹æ¡ˆ**ï¼š

1. åªå‹¾é€‰ã€Œå¤åˆ¶å›¾ç‰‡åˆ°ç›®å½•ã€
2. æˆªå›¾ç²˜è´´æ—¶ä¿å­˜åˆ°æœ¬åœ°

**å›åˆ°åŠå…¬å®¤å**ï¼š

1. å³é”® â†’ `Markdown Image Kit` â†’ `Upload Image`
2. ä¸€é”®ä¸Šä¼ æ–‡æ¡£ä¸­æ‰€æœ‰æœ¬åœ°å›¾ç‰‡
3. è‡ªåŠ¨æ›¿æ¢ä¸ºå›¾åºŠ URL

---

## ğŸ’¡ å®ç°äº®ç‚¹

### 1. è´£ä»»é“¾æ¨¡å¼å¤„ç†å›¾ç‰‡ä»»åŠ¡

æ’ä»¶ä½¿ç”¨**è´£ä»»é“¾æ¨¡å¼**ï¼ˆChain of Responsibility Patternï¼‰ä¼˜é›…åœ°å¤„ç†å›¾ç‰‡ä¸Šä¼ çš„å®Œæ•´æµç¨‹ã€‚

#### ä¸ºä»€ä¹ˆä½¿ç”¨è´£ä»»é“¾ï¼Ÿ

å›¾ç‰‡ä¸Šä¼ ä¸æ˜¯ä¸€ä¸ªç®€å•æ“ä½œï¼Œè€Œæ˜¯ä¸€ç³»åˆ—æ­¥éª¤çš„ç»„åˆï¼š

```
è§£æ Markdown â†’ å‹ç¼©å›¾ç‰‡ â†’ é‡å‘½å â†’ ä¸Šä¼  â†’ æ ‡ç­¾è½¬æ¢ â†’ å†™å›æ–‡æ¡£
```

å¦‚æœç”¨ä¼ ç»Ÿçš„é¡ºåºè°ƒç”¨ï¼š

```java
// âŒ ä¼ ç»Ÿå†™æ³•ï¼šä»£ç è€¦åˆï¼Œéš¾ä»¥ç»´æŠ¤
void uploadImage() {
    parseMarkdown();
    if (needCompress) compressImage();
    if (needRename) renameImage();
    uploadToOss();
    if (needChangeTag) changeTag();
    writeToDocument();
}
```

**é—®é¢˜**ï¼š

- æ¯ä¸ªæ­¥éª¤éƒ½æ˜¯ if åˆ¤æ–­ï¼Œé€»è¾‘æ··ä¹±
- æ–°å¢åŠŸèƒ½éœ€è¦ä¿®æ”¹ä¸»æµç¨‹
- éš¾ä»¥å¤ç”¨ã€éš¾ä»¥æµ‹è¯•

#### è´£ä»»é“¾æ¨¡å¼çš„å®ç°

**æ ¸å¿ƒæ¥å£**ï¼š

```java
public interface IActionHandler {
    String getName();                    // å¤„ç†å™¨åç§°
    boolean isEnabled(EventData data);   // æ˜¯å¦å¯ç”¨
    boolean execute(EventData data);     // æ‰§è¡Œé€»è¾‘
}
```

**å¤„ç†å™¨ç¤ºä¾‹**ï¼š

```1:93:markdown-image-kit/src/main/java/info/dong4j/idea/plugin/chain/ImageCompressionHandler.java
package info.dong4j.idea.plugin.chain;

import info.dong4j.idea.plugin.MikBundle;
import info.dong4j.idea.plugin.action.intention.IntentionActionBase;
import info.dong4j.idea.plugin.entity.EventData;
import info.dong4j.idea.plugin.entity.MarkdownImage;
import info.dong4j.idea.plugin.util.ImageUtils;

import org.jetbrains.annotations.NotNull;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.InputStream;
import java.math.BigDecimal;
import java.math.RoundingMode;
import java.text.DecimalFormat;
import java.util.Iterator;
import java.util.Map;

import lombok.extern.slf4j.Slf4j;

/**
 * å›¾ç‰‡å‹ç¼©å¤„ç†ç±»
 * <p>
 * ç”¨äºå¤„ç† Markdown å›¾ç‰‡çš„å‹ç¼©æ“ä½œï¼Œå°†å›¾ç‰‡çš„ InputStream è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œå¹¶æ›´æ–°ä¸ºå‹ç¼©åçš„è¾“å…¥æµã€‚
 * æ”¯æŒå¯¹é GIF æ ¼å¼çš„å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼ŒåŒæ—¶è®°å½•å‹ç¼©å‰åçš„å¤§å°åŠå‹ç¼©ç‡ã€‚
 * è¯¥ç±»ç»§æ‰¿è‡ª ActionHandlerAdapterï¼Œç”¨äºåœ¨ç‰¹å®šäº‹ä»¶è§¦å‘æ—¶æ‰§è¡Œå›¾ç‰‡å‹ç¼©é€»è¾‘ã€‚
 *
 * @author dong4j
 * @version 0.0.1
 * @date 2021.02.14
 * @since 0.0.1
 */
@Slf4j
public class ImageCompressionHandler extends ActionHandlerAdapter {
    /**
     * è·å–åç§°
     * <p>
     * è¿”å›é¢„å®šä¹‰çš„åç§°å­—ç¬¦ä¸²ï¼Œç”¨äºè¡¨ç¤ºæ“ä½œè¿›åº¦æ ‡é¢˜
     *
     * @return åç§°å­—ç¬¦ä¸²
     * @since 0.0.1
     */
    @Override
    public String getName() {
        return MikBundle.message("mik.action.progress.title");
    }

    /**
     * åˆ¤æ–­å½“å‰çŠ¶æ€æ˜¯å¦å¯ç”¨å‹ç¼©åŠŸèƒ½
     * <p>
     * æ ¹æ®å½“å‰çŠ¶æ€åˆ¤æ–­æ˜¯å¦å¯ç”¨å‹ç¼©åŠŸèƒ½ï¼Œè¿”å›å¯¹åº”çš„å¸ƒå°”å€¼
     *
     * @param data äº‹ä»¶æ•°æ®ï¼Œç”¨äºä¸Šä¸‹æ–‡ä¿¡æ¯
     * @return æ˜¯å¦å¯ç”¨å‹ç¼©åŠŸèƒ½
     * @since 0.0.1
     */
    @Override
    public boolean isEnabled(EventData data) {
        return IntentionActionBase.getState().isCompress();
    }

    /**
     * å¤„ç†Markdownå›¾ç‰‡æ•°æ®ï¼Œå‹ç¼©å›¾ç‰‡æµå¹¶æ›´æ–°å›¾ç‰‡å¯¹è±¡
     * <p>
     * è¯¥æ–¹æ³•ç”¨äºå¤„ç†Markdownå›¾ç‰‡æ•°æ®ï¼Œé¦–å…ˆæ£€æŸ¥å›¾ç‰‡æµæ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºåˆ™ä»è¿­ä»£å™¨ä¸­ç§»é™¤è¯¥å›¾ç‰‡ã€‚
     * è‹¥å›¾ç‰‡åç§°ä»¥"gif"ç»“å°¾ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚å¦åˆ™ï¼Œä½¿ç”¨ImageUtilså·¥å…·ç±»å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œå¹¶å°†å‹ç¼©åçš„æµè®¾ç½®å›å›¾ç‰‡å¯¹è±¡ã€‚
     *
     * @param data          äº‹ä»¶æ•°æ®å¯¹è±¡
     * @param imageIterator å›¾ç‰‡è¿­ä»£å™¨ï¼Œç”¨äºéå†å’Œç§»é™¤å›¾ç‰‡
     * @param markdownImage Markdownå›¾ç‰‡å¯¹è±¡ï¼ŒåŒ…å«å›¾ç‰‡åç§°å’Œè¾“å…¥æµ
     */
    @Override
    public void invoke(EventData data, Iterator<MarkdownImage> imageIterator, MarkdownImage markdownImage) {
        String imageName = markdownImage.getImageName();
        if (markdownImage.getInputStream() == null) {
            log.trace("inputstream ä¸º null, remove markdownImage = {}", markdownImage);
            imageIterator.remove();
            return;
        }

        if (imageName.endsWith("gif")) {
            return;
        }

        InputStream inputStream = markdownImage.getInputStream();
        try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {
            ImageUtils.compress(inputStream, outputStream, IntentionActionBase.getState().getCompressBeforeUploadOfPercent());
            markdownImage.setInputStream(new ByteArrayInputStream(outputStream.toByteArray()));
        } catch (Exception e) {
            log.trace("", e);
        }
    }
```

**æ„å»ºå¤„ç†é“¾**ï¼š

```119:144:markdown-image-kit/src/main/java/info/dong4j/idea/plugin/chain/ActionManager.java
    /**
     * æ„å»ºä¸Šä¼ æµç¨‹çš„åŠ¨ä½œç®¡ç†å™¨
     * <p>
     * æ ¹æ®ä¼ å…¥çš„äº‹ä»¶æ•°æ®åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªå¤„ç†æ­¥éª¤çš„åŠ¨ä½œç®¡ç†å™¨ï¼Œç”¨äºå¤„ç†æ–‡ä»¶ä¸Šä¼ çš„å®Œæ•´æµç¨‹ã€‚
     *
     * @param data äº‹ä»¶æ•°æ®
     * @return åŠ¨ä½œç®¡ç†å™¨å®ä¾‹
     * @since 0.0.1
     */
    public static ActionManager buildUploadChain(EventData data) {
        return new ActionManager(data)
            // è§£æ markdown æ–‡ä»¶
            .addHandler(new ResolveMarkdownFileHandler())
            // å›¾ç‰‡å‹ç¼©
            .addHandler(new ImageCompressionHandler())
            // å›¾ç‰‡é‡å‘½å
            .addHandler(new ImageRenameHandler())
            // å¤„ç† client
            .addHandler(new OptionClientHandler())
            // å›¾ç‰‡ä¸Šä¼ 
            .addHandler(new ImageUploadHandler())
            // æ ‡ç­¾è½¬æ¢
            .addHandler(new ImageLabelChangeHandler())
            // å†™å…¥æ ‡ç­¾
            .addHandler(new ReplaceToDocument())
            .addHandler(new FinalChainHandler());
    }
```

**æ‰§è¡Œæµç¨‹**ï¼š

```93:116:markdown-image-kit/src/main/java/info/dong4j/idea/plugin/chain/ActionManager.java
    /**
     * æ‰§è¡Œå¤„ç†é“¾ä¸­çš„å„ä¸ªå¤„ç†å™¨
     * <p>
     * éå†å¤„ç†å™¨é“¾ï¼Œä¾æ¬¡è°ƒç”¨æ¯ä¸ªå¯ç”¨çš„å¤„ç†å™¨ï¼Œå¹¶æ›´æ–°è¿›åº¦æŒ‡ç¤ºå™¨çš„çŠ¶æ€
     *
     * @param indicator è¿›åº¦æŒ‡ç¤ºå™¨ï¼Œç”¨äºæ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œå½“å‰å¤„ç†çš„å¤„ç†å™¨åç§°
     */
    public void invoke(ProgressIndicator indicator) {
        int totalProcessed = 0;
        this.data.setIndicator(indicator);
        this.data.setSize(this.handlersChain.size());
        int index = 0;
        for (IActionHandler handler : this.handlersChain) {
            this.data.setIndex(index++);
            if (handler.isEnabled(this.data)) {
                log.trace("invoke {}", handler.getName());
                indicator.setText2(handler.getName());
                if (!handler.execute(this.data)) {
                    break;
                }
            }
            indicator.setFraction(++totalProcessed * 1.0 / this.handlersChain.size());
        }
    }
```

#### ä¼˜åŠ¿

**1. å¼€é—­åŸåˆ™**

æ–°å¢åŠŸèƒ½åªéœ€æ·»åŠ æ–°çš„ Handlerï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ï¼š

```java
// âœ… æ–°å¢æ°´å°åŠŸèƒ½
public class WatermarkHandler extends ActionHandlerAdapter {
    @Override
    public boolean isEnabled(EventData data) {
        return state.isWatermark();
    }
    
    @Override
    public void invoke(...) {
        // æ·»åŠ æ°´å°é€»è¾‘
    }
}

// åªéœ€åœ¨é“¾ä¸­æ·»åŠ 
.addHandler(new WatermarkHandler())
```

**2. å•ä¸€èŒè´£**

æ¯ä¸ª Handler åªè´Ÿè´£ä¸€ä»¶äº‹ï¼š

- `ImageCompressionHandler` - åªè´Ÿè´£å‹ç¼©
- `ImageRenameHandler` - åªè´Ÿè´£é‡å‘½å
- `ImageUploadHandler` - åªè´Ÿè´£ä¸Šä¼ 

**3. çµæ´»é…ç½®**

é€šè¿‡ `isEnabled()` æ–¹æ³•åŠ¨æ€å¯ç”¨/ç¦ç”¨å¤„ç†å™¨ï¼š

```java
@Override
public boolean isEnabled(EventData data) {
    return state.isCompress();  // ç”¨æˆ·å‹¾é€‰æ‰æ‰§è¡Œ
}
```

**4. æ˜“äºæµ‹è¯•**

æ¯ä¸ª Handler å¯ä»¥å•ç‹¬æµ‹è¯•ï¼š

```java
@Test
void testImageCompression() {
    ImageCompressionHandler handler = new ImageCompressionHandler();
    EventData data = createTestData();
    handler.execute(data);
    // éªŒè¯å‹ç¼©æ•ˆæœ
}
```

**5. å¯è§‚æµ‹æ€§**

å¤„ç†é“¾æ‰§è¡Œæ—¶å¯ä»¥è¿½è¸ªæ¯ä¸ªæ­¥éª¤ï¼š

```
[è¿›åº¦] è§£æ Markdown æ–‡ä»¶...
[è¿›åº¦] å‹ç¼©å›¾ç‰‡...  
[è¿›åº¦] é‡å‘½åæ–‡ä»¶...
[è¿›åº¦] ä¸Šä¼ åˆ°å›¾åºŠ...
[è¿›åº¦] è½¬æ¢æ ‡ç­¾...
[è¿›åº¦] å†™å…¥æ–‡æ¡£...
```

### 2. å¹¶å‘ä¸Šä¼ ä¼˜åŒ–

å›¾ç‰‡ä¸Šä¼ æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘ï¼Œå¤§å¹…æå‡æ‰¹é‡å¤„ç†é€Ÿåº¦ï¼š

```74:134:markdown-image-kit/src/main/java/info/dong4j/idea/plugin/chain/ImageUploadHandler.java
    @Override
    public boolean execute(EventData data) {
        ProgressIndicator indicator = data.getIndicator();
        int size = data.getSize();

        // ç»Ÿè®¡æ€»æ•°ï¼Œç”¨äºè¿›åº¦è®¡ç®—
        int totalCount = data.getWaitingProcessMap().values().stream()
            .mapToInt(List::size)
            .sum();

        // ä½¿ç”¨åŸå­å˜é‡è·Ÿè¸ªè¿›åº¦ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨
        AtomicInteger processedCount = new AtomicInteger(0);

        // åŠ¨æ€è®¡ç®—çº¿ç¨‹æ± å¤§å°ï¼Œæœ€å¤šä½¿ç”¨10ä¸ªçº¿ç¨‹ï¼Œä½†è¦è€ƒè™‘å›¾ç‰‡æ•°é‡
        int threadPoolSize = Math.min(Math.max(totalCount, 2), 10);
        ExecutorService executorService = Executors.newFixedThreadPool(threadPoolSize);

        log.info("å¼€å§‹ä¸Šä¼  {} å¼ å›¾ç‰‡ï¼Œä½¿ç”¨ {} ä¸ªçº¿ç¨‹", totalCount, threadPoolSize);

        List<CompletableFuture<?>> futures = new ArrayList<>();

        // æ”¶é›†æ‰€æœ‰éœ€è¦å¤„ç†çš„å›¾ç‰‡
        List<ImageUploadTask> uploadTasks = new ArrayList<>();
        for (Map.Entry<Document, List<MarkdownImage>> imageEntry : data.getWaitingProcessMap().entrySet()) {
            for (MarkdownImage markdownImage : imageEntry.getValue()) {
                uploadTasks.add(new ImageUploadTask(markdownImage, imageEntry.getValue()));
            }
        }

        // ä¸ºæ¯ä¸ªå›¾ç‰‡åˆ›å»ºå¼‚æ­¥ä»»åŠ¡
        for (ImageUploadTask task : uploadTasks) {
            CompletableFuture<Void> future = CompletableFuture.runAsync(() -> {
                try {
                    MarkdownImage markdownImage = task.markdownImage;
                    int currentProcessed = processedCount.incrementAndGet();

                    // æ›´æ–°è¿›åº¦
                    String imageName = markdownImage.getImageName();
                    indicator.setText2(MikBundle.message("mik.action.processing.title", imageName));
                    indicator.setFraction(((currentProcessed * 1.0) + data.getIndex() * size) / (totalCount * size));

                    // æ‰§è¡Œä¸Šä¼ é€»è¾‘
                    uploadImage(data, task.imageIterator, markdownImage);
                } catch (Exception e) {
                    log.error("ä¸Šä¼ å›¾ç‰‡æ—¶å‘ç”Ÿå¼‚å¸¸: {}", task.markdownImage.getImageName(), e);
                }
            }, executorService);

            futures.add(future);
        }

        // ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
        try {
            CompletableFuture.allOf(futures.toArray(new CompletableFuture[] {})).join();
            log.info("å›¾ç‰‡ä¸Šä¼ å®Œæˆï¼Œå…±å¤„ç† {} å¼ å›¾ç‰‡", totalCount);
        } finally {
            executorService.shutdown();
        }

        return true;
    }
```

**æ€§èƒ½æå‡**ï¼š

- å•çº¿ç¨‹ï¼š10 å¼ å›¾ç‰‡ â‰ˆ 30 ç§’
- å¹¶å‘ä¸Šä¼ ï¼š10 å¼ å›¾ç‰‡ â‰ˆ 5 ç§’

### 3. æ™ºèƒ½å›¾ç‰‡è¯†åˆ«

è‡ªåŠ¨è¯†åˆ«å›¾ç‰‡æ¥æºï¼ˆæœ¬åœ°/ç½‘ç»œï¼‰ï¼Œé¿å…é‡å¤ä¸Šä¼ ï¼š

```167:218:markdown-image-kit/src/main/java/info/dong4j/idea/plugin/chain/ImageUploadHandler.java
    /**
     * ä¸Šä¼ å›¾ç‰‡çš„æ ¸å¿ƒé€»è¾‘
     *
     * @param data          äº‹ä»¶æ•°æ®
     * @param imageIterator å›¾ç‰‡è¿­ä»£å™¨
     * @param markdownImage å¾…ä¸Šä¼ çš„å›¾ç‰‡
     */
    private void uploadImage(EventData data, Iterator<MarkdownImage> imageIterator, MarkdownImage markdownImage) {
        String imageName = markdownImage.getImageName();

        // å·²ä¸Šä¼ è¿‡çš„ä¸å¤„ç†
        if (ImageLocationEnum.NETWORK.equals(markdownImage.getLocation())) {
            log.debug("å›¾ç‰‡ {} å·²ç»ä¸Šä¼ è¿‡ï¼Œè·³è¿‡", imageName);
            return;
        }

        // éªŒè¯å›¾ç‰‡æ•°æ®
        if (StringUtils.isBlank(imageName) || markdownImage.getInputStream() == null) {
            log.warn("å›¾ç‰‡åç§°æˆ–è¾“å…¥æµä¸ºç©ºï¼Œç§»é™¤è¯¥å›¾ç‰‡: {}", markdownImage);
            imageIterator.remove();
            return;
        }

        String imageUrl = null;
        Exception uploadException = null;

        try {
            log.debug("å¼€å§‹ä¸Šä¼ å›¾ç‰‡: {}", imageName);
            imageUrl = data.getClient().upload(markdownImage.getInputStream(), markdownImage.getImageName());
            log.debug("å›¾ç‰‡ä¸Šä¼ æˆåŠŸ: {} -> {}", imageName, imageUrl);
        } catch (Exception e) {
            uploadException = e;
            log.error("ä¸Šä¼ å›¾ç‰‡å¤±è´¥: {}, é”™è¯¯ä¿¡æ¯: {}", imageName, e.getMessage(), e);
        }

        // æ›´æ–°å›¾ç‰‡ä¿¡æ¯
        String mark;
        if (StringUtils.isBlank(imageUrl)) {
            mark = "![upload error](" + markdownImage.getPath() + ")";
            markdownImage.setLocation(ImageLocationEnum.LOCAL);
            log.warn("å›¾ç‰‡ {} ä¸Šä¼ å¤±è´¥ï¼Œä¿ç•™ä¸ºæœ¬åœ°è·¯å¾„", imageName);
        } else {
            mark = "![](" + imageUrl + ")";
            markdownImage.setPath(imageUrl);
            markdownImage.setLocation(ImageLocationEnum.NETWORK);
        }

        markdownImage.setOriginalLineText(mark);
        markdownImage.setOriginalMark(mark);
        markdownImage.setImageMarkType(ImageMarkEnum.ORIGINAL);
        markdownImage.setFinalMark(mark);
    }
```

### 4. çµæ´»çš„æ ‡ç­¾è§£æ

æ”¯æŒå¤šç§ Markdown å›¾ç‰‡æ ‡ç­¾æ ¼å¼ï¼š

```markdown
![](image.png)
![title](image.png)
![](./imgs/image.png)
![](https://cdn.example.com/image.png)
<img src="image.png"/>
```

### 5. å®Œå–„çš„é”™è¯¯å¤„ç†

- ä¸Šä¼ å¤±è´¥æ—¶ä¿ç•™åŸå§‹æ ‡ç­¾ï¼Œä¸ä¼šä¸¢å¤±æ•°æ®
- è¯¦ç»†çš„æ—¥å¿—è®°å½•ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜
- å‹å¥½çš„é”™è¯¯æç¤º

---

## â“ å¸¸è§é—®é¢˜

### 1. å¦‚ä½•é…ç½® PicListï¼Ÿ

**Q**: ç¬¬ä¸€æ¬¡ä½¿ç”¨ PicListï¼Œå¦‚ä½•é…ç½®ï¼Ÿ

**A**:

1. ä¸‹è½½å®‰è£… [PicList](https://piclist.cn/)
2. æ‰“å¼€ PicListï¼Œè¿›å…¥ã€Œå›¾åºŠè®¾ç½®ã€
3. é€‰æ‹©ä½ è¦ç”¨çš„å›¾åºŠï¼ˆå¦‚é˜¿é‡Œäº‘ OSSï¼‰
4. å¡«å…¥è®¤è¯ä¿¡æ¯ï¼Œç‚¹å‡»ã€Œç¡®å®šã€
5. æ‰“å¼€ã€ŒPicGo è®¾ç½®ã€â†’ã€Œè®¾ç½® Serverã€â†’ å‹¾é€‰ã€Œå¼€å¯ Serverã€
6. å¤åˆ¶ Server åœ°å€ï¼š`http://127.0.0.1:36677/upload`
7. åœ¨æ’ä»¶ä¸­é…ç½®æ­¤åœ°å€

### 2. å›¾ç‰‡ä¸Šä¼ å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**Q**: ç²˜è´´å›¾ç‰‡åä¸Šä¼ å¤±è´¥ï¼Œå¦‚ä½•æ’æŸ¥ï¼Ÿ

**A**:

1. **æ£€æŸ¥ç½‘ç»œ**ï¼šç¡®ä¿èƒ½è®¿é—®å›¾åºŠ
2. **æµ‹è¯•è¿æ¥**ï¼šåœ¨è®¾ç½®é¡µé¢ç‚¹å‡»ã€ŒTestã€æŒ‰é’®
3. **æŸ¥çœ‹æ—¥å¿—**ï¼š
    - IDE ä¸­ï¼š`Help` â†’ `Show Log in Finder/Explorer`
    - æœç´¢ `mik` å…³é”®è¯æŸ¥çœ‹é”™è¯¯
4. **æ£€æŸ¥é…ç½®**ï¼šè®¤è¯ä¿¡æ¯æ˜¯å¦æ­£ç¡®
5. **PicList æ—¥å¿—**ï¼šå¦‚æœç”¨ PicListï¼ŒæŸ¥çœ‹å…¶æ—¥å¿—

### 3. èƒ½å¦æ‰¹é‡ä¸Šä¼ å·²æœ‰æ–‡æ¡£çš„å›¾ç‰‡ï¼Ÿ

**Q**: æˆ‘æœ‰å¾ˆå¤šæ—§æ–‡æ¡£ï¼Œå›¾ç‰‡éƒ½æ˜¯æœ¬åœ°è·¯å¾„ï¼Œå¦‚ä½•æ‰¹é‡ä¸Šä¼ ï¼Ÿ

**A**:

1. é…ç½®å¥½å›¾åºŠ
2. æ‰“å¼€æ–‡æ¡£
3. å³é”® â†’ `Markdown Image Kit` â†’ `Upload Image`
4. ç­‰å¾…å¤„ç†å®Œæˆ

### 4. å¦‚ä½•è¿ç§»å›¾åºŠï¼Ÿ

**Q**: åŸæ¥çš„å›¾åºŠä¸æƒ³ç”¨äº†ï¼Œå¦‚ä½•è¿ç§»åˆ°æ–°å›¾åºŠï¼Ÿ

**A**:

1. é…ç½®æ–°å›¾åºŠå¹¶è®¾ä¸ºé»˜è®¤
2. æ‰“å¼€æ–‡æ¡£
3. å³é”® â†’ `Markdown Image Kit` â†’ `å›¾åºŠè¿ç§»`
4. è¾“å…¥æ—§å›¾åºŠåŸŸåï¼ˆå¦‚ `old-cdn.com`ï¼‰
5. ç­‰å¾…è¿ç§»å®Œæˆ

### 5. å›¾ç‰‡å‹ç¼©ä¼šé™ä½è´¨é‡å—ï¼Ÿ

**Q**: æ‹…å¿ƒå›¾ç‰‡å‹ç¼©åè´¨é‡å¤ªå·®ï¼Ÿ

**A**:

- å‹ç¼©ç®—æ³•ä¼˜åŒ–è¿‡ï¼Œè‚‰çœ¼å‡ ä¹æ— å·®åˆ«
- å¯è°ƒèŠ‚å‹ç¼©æ¯”ä¾‹ï¼ˆæ¨è 60-80ï¼‰
- å¦‚æœåœ¨æ„è´¨é‡ï¼Œå¯ä»¥ï¼š
    - å…³é—­å‹ç¼©åŠŸèƒ½
    - ä½¿ç”¨ PicList çš„å›¾ç‰‡å‹ç¼©æ’ä»¶ï¼ˆæ›´å¤šé€‰é¡¹ï¼‰

### 6. SM.MS å…è´¹å›¾åºŠæœ‰ä»€ä¹ˆé™åˆ¶ï¼Ÿ

**Q**: é»˜è®¤çš„ SM.MS å›¾åºŠå¥½ç”¨å—ï¼Ÿ

**A**:

- âœ… å®Œå…¨å…è´¹
- âœ… æ— éœ€æ³¨å†Œ
- âŒ å•å¼ å›¾ç‰‡é™åˆ¶ 5MB
- âŒ å¯èƒ½æœ‰ä¸Šä¼ é¢‘ç‡é™åˆ¶
- âŒ å…è´¹ç‰ˆæ— æ³•åˆ é™¤å›¾ç‰‡

**å»ºè®®**ï¼šä½“éªŒå¯ä»¥ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ç”¨ PicList + è‡ªå·±çš„å›¾åºŠ

### 7. æ”¯æŒå“ªäº›å›¾ç‰‡æ ¼å¼ï¼Ÿ

**A**:

- âœ… PNG
- âœ… JPG/JPEG
- âœ… GIFï¼ˆå‹ç¼©åŠŸèƒ½ä¸æ”¯æŒ GIFï¼‰
- âœ… BMP
- âœ… WebP

### 8. å¦‚ä½•å¤‡ä»½å›¾ç‰‡ï¼Ÿ

**Q**: æ‹…å¿ƒå›¾åºŠæŒ‚äº†å›¾ç‰‡ä¸¢å¤±ï¼Ÿ

**A**:

1. åŒæ—¶å‹¾é€‰ã€Œå¤åˆ¶å›¾ç‰‡åˆ°ç›®å½•ã€å’Œã€Œä¸Šä¼ å›¾ç‰‡å¹¶æ›¿æ¢ã€
2. å›¾ç‰‡ä¼šä¿å­˜åˆ°æœ¬åœ° + ä¸Šä¼ åˆ°å›¾åºŠ
3. æœ¬åœ°æ–‡ä»¶å¯ä»¥æäº¤åˆ° Git ä»“åº“
4. å›¾åºŠæŒ‚äº†å¯ä»¥é‡æ–°ä¸Šä¼ 

### 9. æ’ä»¶ä¼šä¸Šä¼ ç§å¯†å›¾ç‰‡å—ï¼Ÿ

**Q**: å›¾ç‰‡éšç§å®‰å…¨å—ï¼Ÿ

**A**:

- âŒ æ’ä»¶**ä¸ä¼š**è‡ªåŠ¨ä¸Šä¼ ä»»ä½•å›¾ç‰‡
- âœ… åªæœ‰åœ¨ä½ **ä¸»åŠ¨ç²˜è´´**æˆ–**ç‚¹å‡»ä¸Šä¼ **æ—¶æ‰ä¼šä¸Šä¼ 
- âœ… å›¾ç‰‡ç›´æ¥ä¸Šä¼ åˆ°ä½ é…ç½®çš„å›¾åºŠ
- âœ… æ’ä»¶ä¸ä¼šæ”¶é›†ä»»ä½•æ•°æ®

å¦‚æœæ‹…å¿ƒéšç§ï¼š

- ä½¿ç”¨ã€Œå¤åˆ¶å›¾ç‰‡åˆ°ç›®å½•ã€åŠŸèƒ½ï¼Œä¸ä¸Šä¼ 
- æˆ–è€…è‡ªå»ºæœ¬åœ°å›¾åºŠæœåŠ¡ï¼ˆå‚è€ƒ mik-helpï¼‰

### 10. é‡åˆ° Bug å¦‚ä½•åé¦ˆï¼Ÿ

**A**:

1. GitHub Issues: [æäº¤ Issue](https://github.com/dong4j/markdown-image-kit/issues)
2. æä¾›ä¿¡æ¯ï¼š
    - IDE ç‰ˆæœ¬
    - æ’ä»¶ç‰ˆæœ¬
    - æ“ä½œæ­¥éª¤
    - é”™è¯¯æ—¥å¿—
    - æˆªå›¾

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

### æŠ¥å‘Š Bug

[æäº¤ Issue](https://github.com/dong4j/markdown-image-kit/issues/new?template=bug_report.md)

### åŠŸèƒ½å»ºè®®

[æäº¤ Feature Request](https://github.com/dong4j/markdown-image-kit/issues/new?template=feature_request.md)

### ä»£ç è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/dong4j/markdown-image-kit.git
cd markdown-image-kit/markdown-image-kit

# æ„å»ºé¡¹ç›®
./gradlew buildPlugin

# è¿è¡Œæ’ä»¶ï¼ˆä¼šå¯åŠ¨ä¸€ä¸ªå¸¦æ’ä»¶çš„ IDE å®ä¾‹ï¼‰
./gradlew runIde
```

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [JetBrains æ’ä»¶å¸‚åœº](https://plugins.jetbrains.com/plugin/12192-markdown-image-kit)
- [GitHub ä»“åº“](https://github.com/dong4j/markdown-image-kit)
- [é…å¥—æœåŠ¡ mik-help](https://github.com/dong4j/mik-help)
- [PicList å®˜ç½‘](https://piclist.cn/)
- [é—®é¢˜åé¦ˆ](https://github.com/dong4j/markdown-image-kit/issues)

---

## ğŸ‘¤ ä½œè€…

**dong4j**

- Email: dong4j@gmail.com
- GitHub: [@dong4j](https://github.com/dong4j)

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

å¦‚æœè¿™ä¸ªæ’ä»¶å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼

---

<div align="center">

**Enjoy Markdown writing! ğŸ“**

Made with â¤ï¸ by dong4j

</div>
